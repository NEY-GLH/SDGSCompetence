{% extends "base.html" %}
{% block content %}

<div class="page-header">
<h1>Users</h1>
</div>


<div class="row">
    <div class="col-md-2"></div>
    <div class="col-md-8">
        <div class="well bs-component">
            <form action="{{ url_for('admin.users_edit',id=id) }}" method="POST" class="form-horizontal">
                <fieldset>

                    <legend>Edit User</legend>

                    <div class="form-group">
                        {{ form.username.label(class_="col-lg-2 control-label") }}
                        <div class="col-lg-10">
                            {{ form.username(class_="form-control") }}
                            <span class="help-block">This is the users windows login name.</span>
                        </div>
                    </div>

                    <div class="form-group">
                        {{ form.firstname.label(class_="col-lg-2 control-label") }}
                        <div class="col-lg-10">
                            {{ form.firstname(class_="form-control") }}
                        </div>
                    </div>

                    <div class="form-group">
                        {{ form.surname.label(class_="col-lg-2 control-label") }}
                        <div class="col-lg-10">
                            {{ form.surname(class_="form-control") }}
                        </div>
                    </div>

                    <div class="form-group">
                        {{ form.email.label(class_="col-lg-2 control-label") }}
                        <div class="col-lg-10">
                            {{ form.email(class_="form-control") }}
                        </div>
                    </div>

                    <div class="form-group">
                        {{ form.linemanager.label(class_="col-lg-2 control-label") }}
                        <div class="col-lg-10">
                            {{ form.linemanager(class_="form-control") }}
                            <span class="help-block">Start typing a line managers name and it will autocomplete.</span>
                        </div>
                    </div>

                    <div class="form-group">
                        {{ form.jobrole.label(class_="col-lg-2 control-label") }}
                        <div class="col-lg-10">
                            {{ form.jobrole(class_="form-control") }}
                            <span class="help-block">This is the users role within the department. If job role is not present then you can add one by clicking here.</span>
                        </div>
                    </div>

                    <div class="form-group">
                        {{ form.userrole.label(class_="col-lg-2 control-label") }}
                        <div class="col-lg-10">
                            {{ form.userrole(class_="form-control") }}
                            <span class="help-block">This is the users role on stardb</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-lg-10 col-lg-offset-2">
                            {{ form.submit(class_="btn btn-primary") }}

                        </div>
                    </div>

                </fieldset>
            </form>
        </div>
    </div>
    <div class="col-md-2"></div>
</div>


<script>
$(function() {
    $.ajax({
        url: '{{ url_for("autocomplete") }}'
        }).done(function (data) {
            $('#linemanager').autocomplete({
                source: data.json_list,
                minLength: 2
            });
        });
    });
</script>

<!--<div class="row">-->
    <!--<div class="col-md-3"></div>-->
    <!--<div class="col-md-6">-->
        <!--<div class="well bs-component">-->
            <!--<legend>Roles</legend>-->
            <!--<table class="table table-striped">-->
                <!--<thead>-->
                    <!--<th>Role</th>-->
                    <!--<th>Edit</th>-->
                    <!--<th>Delete</th>-->
                <!--</thead>-->

            <!--{% for role_object in data %}-->
                <!--<tr>-->
                    <!--<td>{{ role_object.role }}</td>-->
                    <!--<td><a href="{{ url_for('admin.userroles_edit', id=role_object.id) }}"><span class="label label-primary"><span class="glyphicon glyphicon-pencil"></span></span></a></td>-->
                    <!--<td><a href="{{ url_for('admin.deleterole', id=role_object.id) }}"><span class="label label-danger"><span class="glyphicon glyphicon-remove"></span></span></a></td>-->
                <!--</tr>-->
            <!--{% endfor %}-->

            <!--</table>-->
           <!--</div>-->
    <!--</div>-->
    <!--<div class="col-md-3"></div>-->
<!--</div>-->

{% endblock %}