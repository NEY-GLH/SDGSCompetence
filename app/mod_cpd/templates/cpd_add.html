{% extends "base2.html" %}
{% block content %}
<h1><i class="fa fa-calendar-plus-o"></i> Add CPD Event<small></small></h1>


<section class="content container-fluid">
    <div class="box box-primary">
        <div class="box-body">
            <form action="{{ url_for('cpd.add_cpd') }}" method="POST" class="form-horizontal">
                <fieldset>
                    <div class="form-group">
                        {{ form.event_name.label(class_="col-lg-2 control-label") }}
                        <div class="col-lg-4">
                            {{ form.event_name(class_="form-control",required='required') }}
                        </div>
                    </div>
                    <div class="form-group">
                        {{ form.event_type.label(class_="col-lg-2 control-label") }}
                        <div class="col-lg-4">
                            {{ form.event_type(class_="form-control",required='required') }}
                        </div>
                    </div>
                    <div class="form-group">
                        {{ form.date.label(class_="col-lg-2 control-label") }}
                        <div class="col-lg-4">
                            <div class="input-group date">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                {{ form.date(class_="form-control pull-right", id="datepicker") }}
                            </div>
                        </div>
                    </div>


                    <div class="form-group">
                        {{ form.role.label(class_="col-lg-2 control-label") }}
                        <div class="col-lg-4">
                            {{ form.role(class_="form-control",required='required') }}
                        </div>
                    </div>
                    <div class="form-group">
                        {{ form.location.label(class_="col-lg-2 control-label") }}
                        <div class="col-lg-4">
                            {{ form.location(class_="form-control",required='required') }}
                        </div>
                    </div>
                    <div class="form-group">
                        {{ form.cpd_points.label(class_="col-lg-2 control-label") }}
                        <div class="col-lg-4">
                            {{ form.cpd_points(class_="form-control") }}
                        </div>
                    </div>
                    <div class="form-group">
                        {{ form.comments.label(class_="col-lg-2 control-label") }}
                        <div class="col-lg-4">
                            {{ form.comments(class_="form-control", onInput="TextCounter(this,1000)") }}<span id="text" style="color: grey">0 / 1000</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-lg-10 col-lg-offset-2">
                            {{ form.submit(class_="btn btn-primary btn-flat") }}

                        </div>

                    </div>
                </fieldset>
            </form>
        </div>
    </div>
</section>

<script>
        $(function () {
            //Date picker
            console.log('in datepicker');
            $('#datepicker').datepicker({
                autoclose: true,
                format: 'yyyy-mm-dd',
                startDate: '2000-01-01'
            })
        });

    function TextCounter(field, limit) {
        console.log("in textcounter function");
        var typedChars = $(field).val().length;
        console.log(typedChars);
        var text = document.getElementById('text');
        $(text).text(typedChars=0?'0 / '+limit:typedChars+' / '+limit);
    }

</script>

{% endblock %}

